- defaults:
    link:
        relink: true
        create: true
    shell:
        stdout: true
        stderr: true
        stdin: true

- clean: []

- link:
    ~/.zshrc: zshrc
    ~/.config/nvim: nvim
    ~/.gitignore_global:
    ~/.gitconfig.user:
    ~/.gitconfig:
    ~/.stCommitMsg:

- shell:
    - sudo apt-get install -y zsh fish software-properties-common git curl build-essential openssl libssl-dev snapd
    -
        command: if [[ $SHELL != "/bin/fish" ]]; then chsh -s /bin/fish; fi
        description: Setting default shell...
        stdin: true
    -
        description: install node
        command: >
            if [[ -n $(which node)  ]];
            then
              echo "node is already installed"
            else
              fvm install node
            fi
    - sudo add-apt-repository -y  universe
    - sudo add-apt-repository -y multiverse
    # -
    #     description: add neovim ppa
    #     command: >
    #         if [[ ! -f /etc/apt/sources.list.d/neovim-ppa-ubuntu-stable-disco.list ]]; then
    #           sudo add-apt-repository -y ppa:neovim-ppa/stable
    #         fi
    - sudo apt update
    # - sudo apt install -y python-dev python-pip python3-dev python3-pip
    - sudo apt install -y fonts-firacode
    # - sudo snap install --edge nvim --classic
    - curl -LO https://github.com/neovim/neovim/releases/download/nightly/nvim.appimage
    - chmod a+x nvim.appimage
    - sudo mv nvim.appimage /usr/local/bin/nvim
    - sudo update-alternatives --install /usr/bin/vi vi /snap/bin/nvim 60
    - sudo update-alternatives --install /usr/bin/vim vim /snap/bin/nvim 60
    - sudo update-alternatives --install /usr/bin/editor editor /snap/bin/nvim 60
    - sh -c 'curl -fLo "${XDG_DATA_HOME:-$HOME/.local/share}"/nvim/site/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim'
